---
apiVersion: v1
kind: Service
metadata:
  name: dispatcharr
  namespace: {{ k8s_namespace }}
  labels:
    app: dispatcharr
spec:
  type: {{ service.type }}
  selector:
    app: dispatcharr
  ports:
  - name: http
    port: {{ dispatcharr.port }}
    targetPort: {{ dispatcharr.port }}
    protocol: TCP
{% if service.type == "NodePort" and service.dispatcharr_nodePort %}
    nodePort: {{ service.dispatcharr_nodePort }}
{% endif %}
